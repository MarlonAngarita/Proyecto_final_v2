<section class="foro-profesor-dashboard">
  <div class="foro-cabecera">
    <img src="https://img.freepik.com/vector-premium/entrenador-fitness-imagen-vectorial-icono-femenino-puede-usar-profesiones_120816-263153.jpg?w=740" alt="Avatar Profesor" class="foro-avatar" />
    <h1>Foro de Profesores</h1>
    <button class="foro-btn-volver" (click)="volverAlDashboard()">‚èé Volver</button>
  </div>

  <div class="foro-paneles">
    <div class="foro-panel foro-panel-activo">Publicaciones</div>
    <div class="foro-panel" style="opacity:0.5;cursor:not-allowed;">(Pr√≥ximamente)</div>
  </div>

  <main>
    <section class="foro-crear-post">
      <h2>Crear una publicaci√≥n</h2>
      <input 
        type="text" 
        [(ngModel)]="tituloPost" 
        placeholder="T√≠tulo de la publicaci√≥n"
        [disabled]="cargando" />
      <textarea 
        [(ngModel)]="contenidoPost" 
        placeholder="Escribe tu publicaci√≥n aqu√≠..."
        [disabled]="cargando"></textarea>
      <button 
        class="foro-btn-publicar" 
        (click)="publicarPost()"
        [disabled]="cargando || !tituloPost.trim() || !contenidoPost.trim()">
        {{ cargando ? 'Enviando...' : 'Enviar' }}
      </button>
    </section>

    <!-- Indicador de carga -->
    <div *ngIf="cargando && publicaciones.length === 0" class="foro-loading">
      <p>Cargando publicaciones...</p>
    </div>

    <section class="foro-publicaciones" *ngIf="!cargando || publicaciones.length > 0">
      <h2>Publicaciones recientes</h2>
      
      <!-- Mensaje cuando no hay publicaciones -->
      <div *ngIf="!cargando && publicaciones.length === 0" class="foro-sin-publicaciones">
        <p>No hay publicaciones en el foro a√∫n.</p>
        <p>¬°S√© el primero en crear una!</p>
      </div>
      
      <!-- Lista de publicaciones -->
      <div class="foro-tarjetas" *ngIf="publicaciones.length > 0">
        <div *ngFor="let post of publicaciones; let i = index" class="foro-tarjeta">
          <div class="foro-post-header">
            <img [src]="post.imagen" alt="Imagen Usuario" />
            <div>
              <p class="foro-autor">{{ post.autor }}</p>
              <span class="foro-tiempo">{{ post.tiempo }}</span>
            </div>
            <button 
              *ngIf="post.id_usuario === currentUser?.id || !post.id_usuario"
              class="foro-btn-eliminar-header" 
              (click)="eliminarPost(i)"
              title="Eliminar publicaci√≥n">
              üóëÔ∏è
            </button>
          </div>
          <h3 class="foro-titulo">{{ post.titulo || 'Sin t√≠tulo' }}</h3>
          <p class="foro-contenido">{{ post.contenido }}</p>
        </div>
      </div>
    </section>
  </main>
</section>
