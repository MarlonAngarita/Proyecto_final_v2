<section class="dashboard-grid">
  <div class="encabezado">
    <a routerLink="/usuario/perfil" class="avatar-link">
      <img [src]="avatarURL" alt="Avatar" class="avatar" />
    </a>
    <h1>{{ nombreUsuario }}</h1>
    <div class="perfil-btn-wrapper">
      <a routerLink="/usuario/perfil" class="btn-perfil">👤 Ver perfil</a>
    </div>
    <!-- <span class="racha-badge">🔥 {{ rachaDias }} días seguidos</span> -->
    <div class="racha-dias-exacto">
      <a routerLink="/usuario/rachas" class="link-rachas">Tienes <strong>{{ rachaDias }}</strong> días de racha actual</a>
    </div>
    <div class="mini-barra-rachas">
      <div *ngFor="let racha of rachas" class="mini-hito" [class.activo]="rachaDias >= racha.dias">
        <span>{{ racha.icono }}</span>
        <small>{{ racha.dias }}d</small>
      </div>
    </div>
  </div>

  <div *ngIf="mostrarRachaRota" class="racha-rota">{{ rachaMensaje }}</div>

  <div class="paneles-usuario">
    <div class="panel" routerLink="/usuario/progreso">
      📊 Mi progreso<span>{{ progresoCurso }}%</span>
    </div>
    <div class="panel" routerLink="/usuario/medallas">
      🏅 Medallas<span>{{ medallas.length }}</span>
    </div>
    <div class="panel" routerLink="/usuario/desafios">
      🎯 Desafíos<span>{{ desafiosActivos }} activos</span>
    </div>
    <div class="panel" routerLink="/usuario/foro">💬 Foro de comunidad</div>
  </div>

  <div class="cerrar-sesion-wrapper">
    <button (click)="cerrarSesion()" class="btn-cerrar-sesion">
      🚪 Cerrar sesión
    </button>
  </div>
</section>
